<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Error 404 (Not Found)</title>
    <link rel="stylesheet" href="game.css">
    <link rel="styleshet" href="https://fonts.googleapis.com/css?family=Roboto" ></link>
    <style>* {padding: 0; margin: 0}</style>
    <script src="pixi.min.js"></script>
    <audio id="route1" loop="loop" autoplay="autoplay">
    <source src="https://raw.githubusercontent.com/Lukeout/Pokemon404/gh-pages/route1.mp3" type="audio/mp3">
    <script src="game.js"></script>
    Your browser does not support the audio element.
    </audio> 
    <!-- Special meta tag allows you to pass Google Client ID. Replace the content attribute value with your own Client Id -->
    <meta name="google-signin-client_id" content="1002946301887-uljp1fvo8vrhn1c9mqqek1ttvkhgqg79.apps.googleusercontent.com"><!-- // TODO: PUT YOUR GOOGLE CLIENT_ID HERE! -->
    <!-- Load Google platform SDK-->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- Load PlayFab Client JavaScript SDK -->
    <script src="https://download.playfab.com/PlayFabClientApi.js"></script>
</head>

<body>
  
    <script>
    var data = JSON.stringify({
    "Statistics": [
      {
        "StatisticName": "Highscore",
        "Value": 100
      }
    ]
  });
  
  var xhr = new XMLHttpRequest();
  xhr.withCredentials = true;
  
  xhr.addEventListener("readystatechange", function () {
    if (this.readyState === 4) {
      console.log(this.responseText);
    }
  });
  
  xhr.open("POST", "https://4C719.playfabapi.com/Client/UpdatePlayerStatistics?PlayFabId=B80A5B95C6C0F339");
  xhr.setRequestHeader("X-PlayFabSDK", "PostmanCollection-0.89.190916");
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.setRequestHeader("X-Authorization", "B80A5B95C6C0F339-115844060912438064439-9E20A961CD108154-4C719-8D7454FC2F2CC05-KFfUjyK4WbtKlc8kS4xHmZ46/5JXpfiPzsTW7HP6yMM=");
  xhr.setRequestHeader("cache-control", "no-cache");
  xhr.setRequestHeader("Postman-Token", "f91ff98d-8a29-45a8-aaf6-a7164d3bf45a");

  
  //xhr.send(data);

function sendScore() {
    xhr.send(data);
}
    </script>
    </script>
    <div id="desc" onselectstart="return false">PAGE NOT FOUND</div>
    <div id="catch" >Click on the Pokemon to Catch 'em All</div>
    
    <div id="score" ><span id="sc">0</span><img src="404.png"  user-select: none ></div>
    <div id="Wrapper">
        <div id="Mute" onclick="toggleSound()">MUTE</div>
    </div>
    <div id="catch10" >
        <button type="button" onclick="sendHighScore()" onclick="alert('Score Sent')">Update Score API</button>
        <button type="button" onclick="sendScore()">Test XHL</button>
        <script>
            function sendHighScore() {
                PlayFabClientSDK.UpdatePlayerStatistics({"Statistics":[{ "StatisticName": "Highscore", "Value":18}]});
            }
        </script>
    </div>


    
    <!-- Mute Function -->
    <script type="text/javascript">
    function toggleSound() {
      var audioElem = document.getElementById('route1');
      if (audioElem.paused) {
        document.getElementById('Mute').innerHTML = "MUTE";
        audioElem.play();
      } 
      else {
          document.getElementById('Mute').innerHTML = "PLAY";
          audioElem.pause();
      } 
    }
    </script>
    <p>Google Access Token Auth Example</p>
    <!-- Neat Google button gets styled automatically when Google platform SDK is loaded -->
    <div class="g-signin2" data-onsuccess="onSignIn"></div>
    <script>
        // Invoked when user has signed in with Google
        function onSignIn() {
            PlayFab.settings.titleId = '4C719';
            // Retrieve access token
            var accessToken = gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse(true).access_token;
            
            // Execute LoginWithGoogleAccount API call using the access token. Please replace TitleID with your own.
            logLine("Attempting PlayFab Sign-in");
            PlayFabClientSDK.LoginWithGoogleAccount({
                AccessToken: accessToken,
                CreateAccount : true,            
                TitleId: "4C719", // TODO: PUT YOUR TITLE ID HERE!
            }, onPlayFabResponse);
        }

        // Handles response from playfab.
        function onPlayFabResponse(response, error) {
            if (response)
                logLine("Response: " + JSON.stringify(response));
            if (error)
                logLine("Error: " + JSON.stringify(error));
        }

        function logLine(message) {
            PlayFab.settings.titleId = '4C719';
            var textnode = document.createTextNode(message);
            document.body.appendChild(textnode);
            var br = document.createElement("br");
            document.body.appendChild(br);
        }
    </script>


    
</body>